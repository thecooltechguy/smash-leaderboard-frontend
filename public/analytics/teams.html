<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Mode Analytics</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Russo+One&family=Press+Start+2P&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --smash-red: #e60012;
            --smash-orange: #ff6b00;
            --smash-yellow: #ffd700;
            --smash-purple: #9d4edd;
            --smash-dark: #1a1a2e;
            --smash-darker: #0f0f1a;
            --smash-black: #050508;
            --text-white: #ffffff;
            --text-gray: #a0a0a0;
            --text-dim: #606080;
            --success: #00ff88;
            --danger: #ff4757;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Russo One', sans-serif;
            background: var(--smash-black);
            color: var(--text-white);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container { max-width: 1600px; margin: 0 auto; padding: 0 20px; }

        .hero {
            position: relative;
            padding: 40px 20px;
            text-align: center;
            background: radial-gradient(ellipse at 30% 20%, rgba(157, 78, 221, 0.3) 0%, transparent 50%),
                        radial-gradient(ellipse at 70% 80%, rgba(255, 107, 0, 0.2) 0%, transparent 50%),
                        var(--smash-black);
        }

        .hero-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: clamp(2.5rem, 8vw, 4rem);
            text-shadow: 4px 4px 0 var(--smash-purple), 8px 8px 0 var(--smash-orange);
            margin-bottom: 10px;
        }

        .hero-subtitle {
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-gray);
            letter-spacing: 3px;
            margin-bottom: 15px;
            font-size: 0.8rem;
        }

        .nav-back {
            display: inline-block;
            color: var(--smash-yellow);
            text-decoration: none;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.5rem;
            padding: 8px 16px;
            border: 2px solid var(--smash-yellow);
            transition: all 0.3s;
        }
        .nav-back:hover { background: var(--smash-yellow); color: var(--smash-black); }

        .format-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            padding: 20px;
            background: var(--smash-darker);
            border-bottom: 2px solid var(--smash-purple);
        }

        .format-btn {
            background: var(--smash-dark);
            border: 2px solid var(--smash-purple);
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .format-btn:hover, .format-btn.active {
            background: var(--smash-purple);
            border-color: var(--smash-yellow);
            transform: scale(1.05);
        }

        .format-btn.active {
            box-shadow: 0 0 20px rgba(157, 78, 221, 0.5);
        }

        .format-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            color: var(--smash-yellow);
        }

        .format-count {
            font-size: 0.65rem;
            color: var(--text-gray);
        }

        .main-content {
            padding: 30px 0;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--smash-dark);
        }

        .data-table th {
            background: var(--smash-darker);
            padding: 15px 12px;
            text-align: left;
            font-family: 'Press Start 2P', monospace;
            font-size: 0.45rem;
            color: var(--smash-orange);
            border-bottom: 2px solid var(--smash-purple);
            position: sticky;
            top: 0;
            cursor: pointer;
        }

        .data-table th:hover {
            background: var(--smash-purple);
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid var(--smash-darker);
            font-size: 0.9rem;
        }

        .data-table tr:hover { background: rgba(157, 78, 221, 0.15); }

        .win-rate-bar {
            width: 80px;
            height: 8px;
            background: var(--smash-darker);
            border-radius: 4px;
            overflow: hidden;
            display: inline-block;
            vertical-align: middle;
            margin-left: 8px;
        }

        .win-rate-fill {
            height: 100%;
            border-radius: 4px;
        }

        .team-badge {
            font-family: 'Press Start 2P', monospace;
            font-size: 0.4rem;
            padding: 3px 8px;
            border-radius: 3px;
            margin-left: 8px;
        }

        .badge-2v2 { background: var(--success); color: var(--smash-black); }
        .badge-3v3 { background: var(--smash-purple); color: white; }
        .badge-other { background: var(--smash-orange); color: var(--smash-black); }

        .section-title {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.8rem;
            color: var(--smash-yellow);
            margin-bottom: 15px;
            text-shadow: 2px 2px 0 var(--smash-purple);
        }

        .stats-summary {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .stat-box {
            background: var(--smash-dark);
            border: 2px solid var(--smash-purple);
            padding: 15px 25px;
            text-align: center;
        }

        .stat-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2rem;
            color: var(--smash-yellow);
        }

        .stat-label {
            font-size: 0.6rem;
            color: var(--text-gray);
            text-transform: uppercase;
        }

        .table-container {
            max-height: 600px;
            overflow-y: auto;
            border: 2px solid var(--smash-purple);
        }

        footer {
            background: var(--smash-darker);
            border-top: 2px solid var(--smash-purple);
            padding: 20px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .format-bar { gap: 5px; }
            .format-btn { padding: 8px 12px; }
            .format-name { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <section class="hero">
        <h1 class="hero-title">TEAM MODE ANALYTICS</h1>
        <p class="hero-subtitle">739 TEAM MATCHES • 271 TRUE 2V2S • 251 UNIQUE TEAMS</p>
        <div class="nav-links" style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
            <a href="index.html" class="nav-back">ANALYTICS</a>
            <a href="daily.html" class="nav-back">DAILY REPORT</a>
            <a href="betting.html" class="nav-back">BETTING ODDS</a>
        </div>
    </section>

    <div class="format-bar">
        <div class="format-btn active" onclick="filterByFormat('all')">
            <div class="format-name">ALL</div>
            <div class="format-count" id="all-count">739 matches</div>
        </div>
        <div id="format-buttons"></div>
    </div>

    <section class="main-content">
        <div class="container">
            <div class="stats-summary" id="stats-summary">
                <div class="stat-box">
                    <div class="stat-value" id="showing-matches">739</div>
                    <div class="stat-label">Matches</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="showing-teams">251</div>
                    <div class="stat-label">Unique Teams</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="showing-partnerships">204</div>
                    <div class="stat-label">Partnerships</div>
                </div>
            </div>

            <h2 class="section-title" id="table-title">ALL TEAM DATA</h2>
            
            <div class="table-container">
                <table class="data-table" id="main-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">#</th>
                            <th onclick="sortTable(1)">Team / Duo / Partnership</th>
                            <th onclick="sortTable(2)">Type</th>
                            <th onclick="sortTable(3)">Format</th>
                            <th onclick="sortTable(4)">Record</th>
                            <th onclick="sortTable(5)">Win Rate</th>
                            <th onclick="sortTable(6)">Games</th>
                        </tr>
                    </thead>
                    <tbody id="main-tbody"></tbody>
                </table>
            </div>
        </div>
    </section>

    <footer>
        <p style="color: var(--text-dim); font-size: 0.7rem;">Click format buttons to filter • Click column headers to sort</p>
        <div class="nav-links" style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
            <a href="index.html" class="nav-back">ANALYTICS</a>
            <a href="daily.html" class="nav-back">DAILY REPORT</a>
            <a href="betting.html" class="nav-back">BETTING ODDS</a>
        </div>
    </footer>

    <script>
        const teamsData = {"total_team_matches": 739,"match_formats": {"1v2": 212,"2v2": 271,"2v1": 60,"1v3": 65,"3v1": 5,"3v2": 19,"1v4": 27,"2v4": 4,"3v3": 52,"2v3": 15,"1v6": 2,"1v5": 7},"true_2v2_count": 271,"best_duos": [{"duo": "mmmmm & own","player1": "mmmmm","player2": "own","wins": 4,"losses": 0,"total": 4,"win_rate": 100.0},{"duo": "jmoon & shafaq","player1": "jmoon","player2": "shafaq","wins": 3,"losses": 0,"total": 3,"win_rate": 100.0},{"duo": "audrey & keneru","player1": "audrey","player2": "keneru","wins": 3,"losses": 0,"total": 3,"win_rate": 100.0},{"duo": "shafaq & sky","player1": "shafaq","player2": "sky","wins": 2,"losses": 0,"total": 2,"win_rate": 100.0},{"duo": "fateen & keneru","player1": "fateen","player2": "keneru","wins": 2,"losses": 0,"total": 2,"win_rate": 100.0},{"duo": "caleb & jmoon","player1": "caleb","player2": "jmoon","wins": 2,"losses": 0,"total": 2,"win_rate": 100.0},{"duo": "nish & subby","player1": "nish","player2": "subby","wins": 10,"losses": 3,"total": 13,"win_rate": 76.9},{"duo": "samin & shafaq","player1": "samin","player2": "shafaq","wins": 6,"losses": 2,"total": 8,"win_rate": 75.0},{"duo": "nish & shafaq","player1": "nish","player2": "shafaq","wins": 3,"losses": 1,"total": 4,"win_rate": 75.0},{"duo": "keneru & lag","player1": "keneru","player2": "lag","wins": 3,"losses": 1,"total": 4,"win_rate": 75.0},{"duo": "habeas & shafaq","player1": "habeas","player2": "shafaq","wins": 10,"losses": 4,"total": 14,"win_rate": 71.4},{"duo": "keneru & subby","player1": "keneru","player2": "subby","wins": 5,"losses": 2,"total": 7,"win_rate": 71.4},{"duo": "nish & pat","player1": "nish","player2": "pat","wins": 5,"losses": 2,"total": 7,"win_rate": 71.4},{"duo": "caleb & samin","player1": "caleb","player2": "samin","wins": 5,"losses": 2,"total": 7,"win_rate": 71.4},{"duo": "ryy & will","player1": "ryy","player2": "will","wins": 20,"losses": 10,"total": 30,"win_rate": 66.7},{"duo": "keneru & nish","player1": "keneru","player2": "nish","wins": 14,"losses": 7,"total": 21,"win_rate": 66.7},{"duo": "fateen & pat","player1": "fateen","player2": "pat","wins": 2,"losses": 1,"total": 3,"win_rate": 66.7},{"duo": "habeas & nish","player1": "habeas","player2": "nish","wins": 12,"losses": 7,"total": 19,"win_rate": 63.2},{"duo": "fateen & strike","player1": "fateen","player2": "strike","wins": 3,"losses": 2,"total": 5,"win_rate": 60.0},{"duo": "fateen & subby","player1": "fateen","player2": "subby","wins": 31,"losses": 21,"total": 52,"win_rate": 59.6}],"most_active_duos": [{"duo": "fateen & subby","player1": "fateen","player2": "subby","wins": 31,"losses": 21,"total": 52,"win_rate": 59.6},{"duo": "ryy & will","player1": "ryy","player2": "will","wins": 20,"losses": 10,"total": 30,"win_rate": 66.7},{"duo": "own & subby","player1": "own","player2": "subby","wins": 11,"losses": 17,"total": 28,"win_rate": 39.3},{"duo": "keneru & nish","player1": "keneru","player2": "nish","wins": 14,"losses": 7,"total": 21,"win_rate": 66.7},{"duo": "habeas & nish","player1": "habeas","player2": "nish","wins": 12,"losses": 7,"total": 19,"win_rate": 63.2},{"duo": "strike & subby","player1": "strike","player2": "subby","wins": 8,"losses": 11,"total": 19,"win_rate": 42.1},{"duo": "pat & subby","player1": "pat","player2": "subby","wins": 8,"losses": 11,"total": 19,"win_rate": 42.1},{"duo": "nish & own","player1": "nish","player2": "own","wins": 9,"losses": 10,"total": 19,"win_rate": 47.4},{"duo": "fateen & habeas","player1": "fateen","player2": "habeas","wins": 7,"losses": 10,"total": 17,"win_rate": 41.2},{"duo": "habeas & will","player1": "habeas","player2": "will","wins": 8,"losses": 7,"total": 15,"win_rate": 53.3},{"duo": "mmmmm & subby","player1": "mmmmm","player2": "subby","wins": 4,"losses": 10,"total": 14,"win_rate": 28.6},{"duo": "habeas & subby","player1": "habeas","player2": "subby","wins": 7,"losses": 7,"total": 14,"win_rate": 50.0},{"duo": "habeas & ya","player1": "habeas","player2": "ya","wins": 8,"losses": 6,"total": 14,"win_rate": 57.1},{"duo": "jmoon & lando","player1": "jmoon","player2": "lando","wins": 4,"losses": 10,"total": 14,"win_rate": 28.6},{"duo": "habeas & shafaq","player1": "habeas","player2": "shafaq","wins": 10,"losses": 4,"total": 14,"win_rate": 71.4},{"duo": "nish & subby","player1": "nish","player2": "subby","wins": 10,"losses": 3,"total": 13,"win_rate": 76.9},{"duo": "aadil & keneru","player1": "aadil","player2": "keneru","wins": 5,"losses": 6,"total": 11,"win_rate": 45.5},{"duo": "jmoon & own","player1": "jmoon","player2": "own","wins": 5,"losses": 5,"total": 10,"win_rate": 50.0},{"duo": "habeas & own","player1": "habeas","player2": "own","wins": 2,"losses": 7,"total": 9,"win_rate": 22.2},{"duo": "samin & shafaq","player1": "samin","player2": "shafaq","wins": 6,"losses": 2,"total": 8,"win_rate": 75.0}],"best_teams": [{"team": "samin","members": ["samin"],"size": 1,"wins": 37,"losses": 0,"total": 37,"win_rate": 100.0,"total_kos": 154,"total_falls": 61},{"team": "own","members": ["own"],"size": 1,"wins": 15,"losses": 0,"total": 15,"win_rate": 100.0,"total_kos": 45,"total_falls": 27},{"team": "pat","members": ["pat"],"size": 1,"wins": 10,"losses": 0,"total": 10,"win_rate": 100.0,"total_kos": 38,"total_falls": 17},{"team": "fateen & keneru","members": ["fateen","keneru"],"size": 2,"wins": 6,"losses": 0,"total": 6,"win_rate": 100.0,"total_kos": 18,"total_falls": 15},{"team": "daniel l","members": ["daniel l"],"size": 1,"wins": 5,"losses": 0,"total": 5,"win_rate": 100.0,"total_kos": 23,"total_falls": 8},{"team": "heidy","members": ["heidy"],"size": 1,"wins": 5,"losses": 0,"total": 5,"win_rate": 100.0,"total_kos": 19,"total_falls": 8},{"team": "lag","members": ["lag"],"size": 1,"wins": 5,"losses": 0,"total": 5,"win_rate": 100.0,"total_kos": 20,"total_falls": 9},{"team": "vora","members": ["vora"],"size": 1,"wins": 5,"losses": 0,"total": 5,"win_rate": 100.0,"total_kos": 18,"total_falls": 7},{"team": "audrey & jeni & shafaq","members": ["audrey","jeni","shafaq"],"size": 3,"wins": 4,"losses": 0,"total": 4,"win_rate": 100.0,"total_kos": 24,"total_falls": 27},{"team": "jmoon & shafaq","members": ["jmoon","shafaq"],"size": 2,"wins": 3,"losses": 0,"total": 3,"win_rate": 100.0,"total_kos": 12,"total_falls": 8},{"team": "ya","members": ["ya"],"size": 1,"wins": 3,"losses": 0,"total": 3,"win_rate": 100.0,"total_kos": 5,"total_falls": 4},{"team": "own & pat & samin","members": ["own","pat","samin"],"size": 3,"wins": 3,"losses": 0,"total": 3,"win_rate": 100.0,"total_kos": 25,"total_falls": 17},{"team": "fateen & nish & samin","members": ["fateen","nish","samin"],"size": 3,"wins": 3,"losses": 0,"total": 3,"win_rate": 100.0,"total_kos": 17,"total_falls": 15},{"team": "niki <3","members": ["niki <3"],"size": 1,"wins": 3,"losses": 0,"total": 3,"win_rate": 100.0,"total_kos": 14,"total_falls": 6},{"team": "mizan","members": ["mizan"],"size": 1,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 2,"total_falls": 3},{"team": "waw","members": ["waw"],"size": 1,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 9,"total_falls": 2},{"team": "stav","members": ["stav"],"size": 1,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 3,"total_falls": 1},{"team": "shafaq & sky","members": ["shafaq","sky"],"size": 2,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 10,"total_falls": 9},{"team": "caleb & jmoon","members": ["caleb","jmoon"],"size": 2,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 6,"total_falls": 6},{"team": "messi","members": ["messi"],"size": 1,"wins": 2,"losses": 0,"total": 2,"win_rate": 100.0,"total_kos": 5,"total_falls": 4}],"most_active_teams": [{"team": "fateen & subby","members": ["fateen","subby"],"size": 2,"wins": 38,"losses": 26,"total": 64,"win_rate": 59.4,"total_kos": 253,"total_falls": 286},{"team": "habeas","members": ["habeas"],"size": 1,"wins": 39,"losses": 13,"total": 52,"win_rate": 75.0,"total_kos": 167,"total_falls": 100},{"team": "subby","members": ["subby"],"size": 1,"wins": 44,"losses": 2,"total": 46,"win_rate": 95.7,"total_kos": 168,"total_falls": 78},{"team": "nish & subby","members": ["nish","subby"],"size": 2,"wins": 10,"losses": 30,"total": 40,"win_rate": 25.0,"total_kos": 151,"total_falls": 191},{"team": "nish","members": ["nish"],"size": 1,"wins": 34,"losses": 5,"total": 39,"win_rate": 87.2,"total_kos": 114,"total_falls": 72},{"team": "samin","members": ["samin"],"size": 1,"wins": 37,"losses": 0,"total": 37,"win_rate": 100.0,"total_kos": 154,"total_falls": 61},{"team": "habeas & subby","members": ["habeas","subby"],"size": 2,"wins": 13,"losses": 23,"total": 36,"win_rate": 36.1,"total_kos": 142,"total_falls": 177},{"team": "own & subby","members": ["own","subby"],"size": 2,"wins": 13,"losses": 23,"total": 36,"win_rate": 36.1,"total_kos": 110,"total_falls": 170},{"team": "jmoon","members": ["jmoon"],"size": 1,"wins": 27,"losses": 8,"total": 35,"win_rate": 77.1,"total_kos": 134,"total_falls": 55},{"team": "ryy & will","members": ["ryy","will"],"size": 2,"wins": 22,"losses": 13,"total": 35,"win_rate": 62.9,"total_kos": 148,"total_falls": 149},{"team": "keneru","members": ["keneru"],"size": 1,"wins": 17,"losses": 14,"total": 31,"win_rate": 54.8,"total_kos": 93,"total_falls": 65},{"team": "shafaq","members": ["shafaq"],"size": 1,"wins": 17,"losses": 12,"total": 29,"win_rate": 58.6,"total_kos": 111,"total_falls": 62},{"team": "strike & subby","members": ["strike","subby"],"size": 2,"wins": 12,"losses": 17,"total": 29,"win_rate": 41.4,"total_kos": 104,"total_falls": 142},{"team": "keneru & nish","members": ["keneru","nish"],"size": 2,"wins": 19,"losses": 10,"total": 29,"win_rate": 65.5,"total_kos": 118,"total_falls": 107},{"team": "habeas & nish","members": ["habeas","nish"],"size": 2,"wins": 15,"losses": 13,"total": 28,"win_rate": 53.6,"total_kos": 111,"total_falls": 121},{"team": "fateen","members": ["fateen"],"size": 1,"wins": 17,"losses": 6,"total": 23,"win_rate": 73.9,"total_kos": 66,"total_falls": 38},{"team": "fateen & habeas","members": ["fateen","habeas"],"size": 2,"wins": 13,"losses": 10,"total": 23,"win_rate": 56.5,"total_kos": 81,"total_falls": 75},{"team": "pat & subby","members": ["pat","subby"],"size": 2,"wins": 8,"losses": 15,"total": 23,"win_rate": 34.8,"total_kos": 77,"total_falls": 103},{"team": "habeas & keneru","members": ["habeas","keneru"],"size": 2,"wins": 12,"losses": 9,"total": 21,"win_rate": 57.1,"total_kos": 77,"total_falls": 61},{"team": "nish & own","members": ["nish","own"],"size": 2,"wins": 9,"losses": 12,"total": 21,"win_rate": 42.9,"total_kos": 74,"total_falls": 84}],"team_player_rankings": [{"player": "niki <3","team_wins": 3,"team_losses": 1,"team_games": 4,"team_win_rate": 75.0,"best_teammate": "keneru","games_with_best": 1},{"player": "daniel l","team_wins": 5,"team_losses": 3,"team_games": 8,"team_win_rate": 62.5,"best_teammate": "own","games_with_best": 2},{"player": "vora","team_wins": 5,"team_losses": 3,"team_games": 8,"team_win_rate": 62.5,"best_teammate": "fateen","games_with_best": 2},{"player": "shafaq","team_wins": 65,"team_losses": 42,"team_games": 107,"team_win_rate": 60.7,"best_teammate": "habeas","games_with_best": 17},{"player": "gino","team_wins": 6,"team_losses": 4,"team_games": 10,"team_win_rate": 60.0,"best_teammate": "keneru","games_with_best": 7},{"player": "ryy","team_wins": 25,"team_losses": 19,"team_games": 44,"team_win_rate": 56.8,"best_teammate": "will","games_with_best": 41},{"player": "mizan","team_wins": 12,"team_losses": 10,"team_games": 22,"team_win_rate": 54.5,"best_teammate": "keneru","games_with_best": 5},{"player": "audrey","team_wins": 12,"team_losses": 11,"team_games": 23,"team_win_rate": 52.2,"best_teammate": "jeni","games_with_best": 10},{"player": "will","team_wins": 35,"team_losses": 34,"team_games": 69,"team_win_rate": 50.7,"best_teammate": "ryy","games_with_best": 41},{"player": "samin","team_wins": 73,"team_losses": 72,"team_games": 145,"team_win_rate": 50.3,"best_teammate": "subby","games_with_best": 40},{"player": "habeas","team_wins": 152,"team_losses": 161,"team_games": 313,"team_win_rate": 48.6,"best_teammate": "subby","games_with_best": 50},{"player": "jmoon","team_wins": 56,"team_losses": 61,"team_games": 117,"team_win_rate": 47.9,"best_teammate": "habeas","games_with_best": 21},{"player": "fateen","team_wins": 100,"team_losses": 110,"team_games": 210,"team_win_rate": 47.6,"best_teammate": "subby","games_with_best": 107},{"player": "keneru","team_wins": 106,"team_losses": 117,"team_games": 223,"team_win_rate": 47.5,"best_teammate": "nish","games_with_best": 53},{"player": "strike","team_wins": 45,"team_losses": 53,"team_games": 98,"team_win_rate": 45.9,"best_teammate": "subby","games_with_best": 47},{"player": "jeni","team_wins": 6,"team_losses": 8,"team_games": 14,"team_win_rate": 42.9,"best_teammate": "audrey","games_with_best": 10},{"player": "stav","team_wins": 3,"team_losses": 4,"team_games": 7,"team_win_rate": 42.9,"best_teammate": "mmmmm","games_with_best": 4},{"player": "pat","team_wins": 46,"team_losses": 62,"team_games": 108,"team_win_rate": 42.6,"best_teammate": "subby","games_with_best": 52},{"player": "nish","team_wins": 122,"team_losses": 167,"team_games": 289,"team_win_rate": 42.2,"best_teammate": "subby","games_with_best": 58},{"player": "subby","team_wins": 186,"team_losses": 260,"team_games": 446,"team_win_rate": 41.7,"best_teammate": "fateen","games_with_best": 107},{"player": "kento","team_wins": 5,"team_losses": 7,"team_games": 12,"team_win_rate": 41.7,"best_teammate": "keneru","games_with_best": 4},{"player": "aadil","team_wins": 5,"team_losses": 7,"team_games": 12,"team_win_rate": 41.7,"best_teammate": "keneru","games_with_best": 11},{"player": "own","team_wins": 64,"team_losses": 90,"team_games": 154,"team_win_rate": 41.6,"best_teammate": "subby","games_with_best": 53},{"player": "lag","team_wins": 12,"team_losses": 18,"team_games": 30,"team_win_rate": 40.0,"best_teammate": "shafaq","games_with_best": 11},{"player": "sky","team_wins": 4,"team_losses": 6,"team_games": 10,"team_win_rate": 40.0,"best_teammate": "ya","games_with_best": 8},{"player": "caleb","team_wins": 9,"team_losses": 14,"team_games": 23,"team_win_rate": 39.1,"best_teammate": "samin","games_with_best": 10},{"player": "ya","team_wins": 29,"team_losses": 58,"team_games": 87,"team_win_rate": 33.3,"best_teammate": "nish","games_with_best": 23},{"player": "bassem","team_wins": 2,"team_losses": 4,"team_games": 6,"team_win_rate": 33.3,"best_teammate": "asma","games_with_best": 2},{"player": "Raulito","team_wins": 8,"team_losses": 20,"team_games": 28,"team_win_rate": 28.6,"best_teammate": "nish","games_with_best": 17},{"player": "lando","team_wins": 7,"team_losses": 19,"team_games": 26,"team_win_rate": 26.9,"best_teammate": "jmoon","games_with_best": 15},{"player": "mmmmm","team_wins": 8,"team_losses": 25,"team_games": 33,"team_win_rate": 24.2,"best_teammate": "subby","games_with_best": 18},{"player": "duck","team_wins": 1,"team_losses": 4,"team_games": 5,"team_win_rate": 20.0,"best_teammate": "mizan","games_with_best": 3},{"player": "gatmo","team_wins": 1,"team_losses": 4,"team_games": 5,"team_win_rate": 20.0,"best_teammate": "joguo","games_with_best": 4},{"player": "eddy","team_wins": 1,"team_losses": 4,"team_games": 5,"team_win_rate": 20.0,"best_teammate": "asma","games_with_best": 4},{"player": "messi","team_wins": 9,"team_losses": 46,"team_games": 55,"team_win_rate": 16.4,"best_teammate": "subby","games_with_best": 25},{"player": "asma","team_wins": 1,"team_losses": 8,"team_games": 9,"team_win_rate": 11.1,"best_teammate": "donshelly","games_with_best": 5},{"player": "heidy","team_wins": 6,"team_losses": 53,"team_games": 59,"team_win_rate": 10.2,"best_teammate": "jmoon","games_with_best": 21},{"player": "joguo","team_wins": 1,"team_losses": 19,"team_games": 20,"team_win_rate": 5.0,"best_teammate": "heidy","games_with_best": 12},{"player": "donshelly","team_wins": 0,"team_losses": 5,"team_games": 5,"team_win_rate": 0.0,"best_teammate": "asma","games_with_best": 5},{"player": "tcvora","team_wins": 0,"team_losses": 4,"team_games": 4,"team_win_rate": 0.0,"best_teammate": "fateen","games_with_best": 4},{"player": "dhruvus","team_wins": 0,"team_losses": 3,"team_games": 3,"team_win_rate": 0.0,"best_teammate": "messi","games_with_best": 2},{"player": "unknown","team_wins": 0,"team_losses": 3,"team_games": 3,"team_win_rate": 0.0,"best_teammate": "keneru","games_with_best": 1}],"best_partnerships": [{"partnership": "jeni & shafaq","player1": "jeni","player2": "shafaq","games_together": 4,"wins_together": 4,"win_rate": 100.0},{"partnership": "audrey & shafaq","player1": "audrey","player2": "shafaq","games_together": 4,"wins_together": 4,"win_rate": 100.0},{"partnership": "shafaq & sky","player1": "shafaq","player2": "sky","games_together": 2,"wins_together": 2,"win_rate": 100.0},{"partnership": "caleb & jmoon","player1": "caleb","player2": "jmoon","games_together": 2,"wins_together": 2,"win_rate": 100.0},{"partnership": "gino & keneru","player1": "gino","player2": "keneru","games_together": 7,"wins_together": 6,"win_rate": 85.7},{"partnership": "mizan & shafaq","player1": "mizan","player2": "shafaq","games_together": 5,"wins_together": 4,"win_rate": 80.0},{"partnership": "mmmmm & own","player1": "mmmmm","player2": "own","games_together": 5,"wins_together": 4,"win_rate": 80.0},{"partnership": "shafaq & ya","player1": "shafaq","player2": "ya","games_together": 5,"wins_together": 4,"win_rate": 80.0},{"partnership": "samin & shafaq","player1": "samin","player2": "shafaq","games_together": 9,"wins_together": 7,"win_rate": 77.8},{"partnership": "audrey & keneru","player1": "audrey","player2": "keneru","games_together": 4,"wins_together": 3,"win_rate": 75.0},{"partnership": "nish & shafaq","player1": "nish","player2": "shafaq","games_together": 10,"wins_together": 7,"win_rate": 70.0},{"partnership": "fateen & keneru","player1": "fateen","player2": "keneru","games_together": 9,"wins_together": 6,"win_rate": 66.7},{"partnership": "jmoon & pat","player1": "jmoon","player2": "pat","games_together": 3,"wins_together": 2,"win_rate": 66.7},{"partnership": "jmoon & strike","player1": "jmoon","player2": "strike","games_together": 3,"wins_together": 2,"win_rate": 66.7},{"partnership": "habeas & shafaq","player1": "habeas","player2": "shafaq","games_together": 17,"wins_together": 11,"win_rate": 64.7},{"partnership": "habeas & ya","player1": "habeas","player2": "ya","games_together": 20,"wins_together": 12,"win_rate": 60.0},{"partnership": "caleb & samin","player1": "caleb","player2": "samin","games_together": 10,"wins_together": 6,"win_rate": 60.0},{"partnership": "jmoon & shafaq","player1": "jmoon","player2": "shafaq","games_together": 5,"wins_together": 3,"win_rate": 60.0},{"partnership": "keneru & mizan","player1": "keneru","player2": "mizan","games_together": 5,"wins_together": 3,"win_rate": 60.0},{"partnership": "own & pat","player1": "own","player2": "pat","games_together": 5,"wins_together": 3,"win_rate": 60.0}],"most_frequent_partnerships": [{"partnership": "fateen & subby","player1": "fateen","player2": "subby","games_together": 107,"wins_together": 53,"win_rate": 49.5},{"partnership": "nish & subby","player1": "nish","player2": "subby","games_together": 58,"wins_together": 12,"win_rate": 20.7},{"partnership": "keneru & nish","player1": "keneru","player2": "nish","games_together": 53,"wins_together": 27,"win_rate": 50.9},{"partnership": "own & subby","player1": "own","player2": "subby","games_together": 53,"wins_together": 14,"win_rate": 26.4},{"partnership": "pat & subby","player1": "pat","player2": "subby","games_together": 52,"wins_together": 16,"win_rate": 30.8},{"partnership": "habeas & subby","player1": "habeas","player2": "subby","games_together": 50,"wins_together": 16,"win_rate": 32.0},{"partnership": "strike & subby","player1": "strike","player2": "subby","games_together": 47,"wins_together": 20,"win_rate": 42.6},{"partnership": "habeas & nish","player1": "habeas","player2": "nish","games_together": 46,"wins_together": 23,"win_rate": 50.0},{"partnership": "keneru & subby","player1": "keneru","player2": "subby","games_together": 41,"wins_together": 14,"win_rate": 34.1},{"partnership": "ryy & will","player1": "ryy","player2": "will","games_together": 41,"wins_together": 24,"win_rate": 58.5},{"partnership": "samin & subby","player1": "samin","player2": "subby","games_together": 40,"wins_together": 9,"win_rate": 22.5},{"partnership": "habeas & own","player1": "habeas","player2": "own","games_together": 36,"wins_together": 11,"win_rate": 30.6},{"partnership": "habeas & keneru","player1": "habeas","player2": "keneru","games_together": 34,"wins_together": 18,"win_rate": 52.9},{"partnership": "keneru & samin","player1": "keneru","player2": "samin","games_together": 30,"wins_together": 11,"win_rate": 36.7},{"partnership": "habeas & strike","player1": "habeas","player2": "strike","games_together": 28,"wins_together": 13,"win_rate": 46.4},{"partnership": "fateen & habeas","player1": "fateen","player2": "habeas","games_together": 27,"wins_together": 14,"win_rate": 51.9},{"partnership": "fateen & strike","player1": "fateen","player2": "strike","games_together": 25,"wins_together": 12,"win_rate": 48.0},{"partnership": "messi & subby","player1": "messi","player2": "subby","games_together": 25,"wins_together": 6,"win_rate": 24.0},{"partnership": "fateen & nish","player1": "fateen","player2": "nish","games_together": 24,"wins_together": 4,"win_rate": 16.7},{"partnership": "nish & ya","player1": "nish","player2": "ya","games_together": 23,"wins_together": 6,"win_rate": 26.1}],"summary": {"total_team_matches": 739,"true_2v2_matches": 271,"total_unique_teams": 251,"total_unique_duos": 73,"total_partnerships": 204}};
        let allRows = [];
        let currentFilter = 'all';

        function init() {
            renderFormatButtons();
            buildAllRows();
            renderTable('all');
        }

        function renderFormatButtons() {
            const container = document.getElementById('format-buttons');
            const formats = teamsData.match_formats;
            
            // Sort by count descending
            const sorted = Object.entries(formats).sort((a, b) => b[1] - a[1]);
            
            sorted.forEach(([fmt, count]) => {
                const btn = document.createElement('div');
                btn.className = 'format-btn';
                btn.onclick = () => filterByFormat(fmt);
                btn.innerHTML = `
                    <div class="format-name">${fmt}</div>
                    <div class="format-count">${count} matches</div>
                `;
                btn.dataset.format = fmt;
                container.appendChild(btn);
            });
        }

        function buildAllRows() {
            allRows = [];
            
            // Add teams (full team compositions)
            teamsData.best_teams.forEach(t => {
                const format = t.size === 1 ? '1vX' : t.size === 2 ? '2v2' : `${t.size}vX`;
                allRows.push({
                    name: t.team,
                    type: 'Team',
                    format: format,
                    size: t.size,
                    wins: t.wins,
                    losses: t.losses,
                    total: t.total,
                    winRate: t.win_rate
                });
            });
            
            // Add more teams from most_active
            teamsData.most_active_teams.forEach(t => {
                if (!allRows.find(r => r.name === t.team && r.type === 'Team')) {
                    const format = t.size === 1 ? '1vX' : t.size === 2 ? '2v2' : `${t.size}vX`;
                    allRows.push({
                        name: t.team,
                        type: 'Team',
                        format: format,
                        size: t.size,
                        wins: t.wins,
                        losses: t.losses,
                        total: t.total,
                        winRate: t.win_rate
                    });
                }
            });
            
            // Add duos (true 2v2 only)
            if (teamsData.best_duos) {
                teamsData.best_duos.forEach(d => {
                    allRows.push({
                        name: d.duo,
                        type: 'Duo (2v2)',
                        format: '2v2',
                        size: 2,
                        wins: d.wins,
                        losses: d.losses,
                        total: d.total,
                        winRate: d.win_rate
                    });
                });
            }
            
            // Add partnerships
            if (teamsData.most_frequent_partnerships) {
                teamsData.most_frequent_partnerships.forEach(p => {
                    allRows.push({
                        name: p.partnership,
                        type: 'Partnership',
                        format: 'Any',
                        size: 2,
                        wins: p.wins_together,
                        losses: p.games_together - p.wins_together,
                        total: p.games_together,
                        winRate: p.win_rate
                    });
                });
            }
            
            // Sort by games descending
            allRows.sort((a, b) => b.total - a.total);
        }

        function filterByFormat(format) {
            currentFilter = format;
            
            // Update button states
            document.querySelectorAll('.format-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.format === format || (format === 'all' && !btn.dataset.format)) {
                    btn.classList.add('active');
                }
            });
            
            // Also check the ALL button
            const allBtn = document.querySelector('.format-btn:not([data-format])');
            if (allBtn) {
                if (format === 'all') {
                    allBtn.classList.add('active');
                } else {
                    allBtn.classList.remove('active');
                }
            }
            
            renderTable(format);
        }

        function renderTable(filter) {
            const tbody = document.getElementById('main-tbody');
            tbody.innerHTML = '';
            
            let filtered = allRows;
            if (filter !== 'all') {
                // For specific formats, show teams that match that format
                filtered = allRows.filter(r => {
                    if (filter === '2v2') return r.format === '2v2';
                    if (filter === '3v3') return r.size === 3 && r.type === 'Team';
                    if (r.type === 'Partnership') return false; // Don't show partnerships in format filters
                    // For asymmetric formats like 1v2, 2v3, etc., check if team size matches
                    const parts = filter.split('v');
                    if (parts.length === 2) {
                        const sizes = parts.map(Number);
                        return sizes.includes(r.size);
                    }
                    return true;
                });
            }
            
            // Update stats
            document.getElementById('showing-matches').textContent = filtered.length;
            document.getElementById('table-title').textContent = filter === 'all' ? 'ALL TEAM DATA' : `${filter.toUpperCase()} MATCHES`;
            
            filtered.forEach((row, i) => {
                const wrColor = row.winRate >= 60 ? 'var(--success)' : row.winRate < 40 ? 'var(--danger)' : 'var(--smash-yellow)';
                const badgeClass = row.format === '2v2' ? 'badge-2v2' : row.format === '3v3' ? 'badge-3v3' : 'badge-other';
                
                tbody.innerHTML += `
                    <tr>
                        <td>${i + 1}</td>
                        <td><strong>${row.name}</strong></td>
                        <td>${row.type}</td>
                        <td><span class="team-badge ${badgeClass}">${row.format}</span></td>
                        <td>${row.wins}W - ${row.losses}L</td>
                        <td>
                            <span style="color: ${wrColor}"><strong>${row.winRate}%</strong></span>
                            <div class="win-rate-bar">
                                <div class="win-rate-fill" style="width: ${row.winRate}%; background: ${wrColor}"></div>
                            </div>
                        </td>
                        <td>${row.total}</td>
                    </tr>
                `;
            });
        }

        function sortTable(colIdx) {
            const tbody = document.getElementById('main-tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            
            rows.sort((a, b) => {
                let aVal = a.cells[colIdx].textContent.replace('%', '').replace('W', '').replace('L', '').replace('-', '').trim();
                let bVal = b.cells[colIdx].textContent.replace('%', '').replace('W', '').replace('L', '').replace('-', '').trim();
                
                // Try numeric sort
                const aNum = parseFloat(aVal);
                const bNum = parseFloat(bVal);
                if (!isNaN(aNum) && !isNaN(bNum)) {
                    return bNum - aNum;
                }
                return aVal.localeCompare(bVal);
            });
            
            rows.forEach(row => tbody.appendChild(row));
        }

        init();
    </script>
</body>
</html>